<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMeditor - Spatial Content Editor</title>
    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" href="css/cockpit-theme.css">
    <link rel="stylesheet" href="css/spatial-ui.css">
    <link rel="stylesheet" href="css/gaming-components.css">
    <link rel="stylesheet" href="css/post-processing.css">
    <link rel="stylesheet" href="css/particle-systems.css">
    <link rel="stylesheet" href="css/spatial-audio.css">
    <link rel="stylesheet" href="css/ai-features.css">
    <link rel="stylesheet" href="css/mobile-ar.css">
    <link rel="stylesheet" href="css/advanced-camera.css">
    <link rel="stylesheet" href="css/color-picker.css">
    <link rel="stylesheet" href="css/tooltips.css">
    <link rel="stylesheet" href="css/property-inspector.css">
    <link rel="stylesheet" href="css/undo-redo.css">
    <link rel="stylesheet" href="css/scene-graph.css">
    <link rel="stylesheet" href="css/automotive-features.css">
</head>
<body>
    <div id="smeditor" class="cockpit-theme">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <h1 class="logo">SMeditor</h1>
                <div class="nav-controls">
                    <button id="new-scene" class="nav-btn" title="New Scene">
                        <span class="icon">+</span>
                        <span class="label">New</span>
                    </button>
                    <button id="save-scene" class="nav-btn" title="Save Scene">
                        <span class="icon">üíæ</span>
                        <span class="label">Save</span>
                    </button>
                    <button id="load-scene" class="nav-btn" title="Load Scene">
                        <span class="icon">üìÅ</span>
                        <span class="label">Load</span>
                    </button>
                </div>
            </div>
            
            <div class="nav-center">
                <div class="scene-info">
                    <span id="scene-title">Untitled Scene</span>
                    <span id="scene-type">Automotive</span>
                </div>
            </div>
            
            <div class="nav-right">
                <div class="user-controls">
                    <button id="user-profile" class="nav-btn" title="User Profile">
                        <span class="icon">üë§</span>
                    </button>
                    <button id="settings" class="nav-btn" title="Settings">
                        <span class="icon">‚öôÔ∏è</span>
                    </button>
                    <button id="help" class="nav-btn" title="Help">
                        <span class="icon">‚ùì</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Left Sidebar - Tools Panel -->
            <aside class="left-sidebar">
                <div class="sidebar-section">
                    <h3>Tools</h3>
                    <div class="tool-buttons">
                        <button id="select-tool" class="tool-btn active" title="Select Tool">
                            <span class="icon">üëÜ</span>
                        </button>
                        <button id="move-tool" class="tool-btn" title="Move Tool">
                            <span class="icon">‚úã</span>
                        </button>
                        <button id="rotate-tool" class="tool-btn" title="Rotate Tool">
                            <span class="icon">üîÑ</span>
                        </button>
                        <button id="scale-tool" class="tool-btn" title="Scale Tool">
                            <span class="icon">üìè</span>
                        </button>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>Content</h3>
                    <div class="content-tabs">
                        <button class="tab-btn active" data-tab="templates">Templates</button>
                        <button class="tab-btn" data-tab="assets">Assets</button>
                        <button class="tab-btn" data-tab="audio">Audio</button>
                        <button class="tab-btn" data-tab="effects">Effects</button>
                    </div>
                    
                    <div class="tab-content active" id="templates-tab">
                        <div class="template-grid">
                            <div class="template-item" data-template="grid-3x3">
                                <div class="template-preview">3x3</div>
                                <span>Grid Layout</span>
                            </div>
                            <div class="template-item" data-template="hero">
                                <div class="template-preview">H</div>
                                <span>Hero Layout</span>
                            </div>
                            <div class="template-item" data-template="carousel">
                                <div class="template-preview">C</div>
                                <span>Carousel</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Features Panel -->
                <div class="sidebar-section">
                    <h3>Advanced Features</h3>
                    <div class="advanced-features">
                        <button id="spatial-audio-btn" class="feature-btn" title="Spatial Audio">
                            <span class="icon">üéµ</span>
                            <span class="label">Spatial Audio</span>
                        </button>
                        <button id="ai-features-btn" class="feature-btn" title="AI Features">
                            <span class="icon">ü§ñ</span>
                            <span class="label">AI Features</span>
                        </button>
                        <button id="mobile-ar-btn" class="feature-btn" title="Mobile AR">
                            <span class="icon">üì±</span>
                            <span class="label">Mobile AR</span>
                        </button>
                        <button id="advanced-camera-btn" class="feature-btn" title="Advanced Camera">
                            <span class="icon">üìπ</span>
                            <span class="label">Advanced Camera</span>
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Center Panel - 3D Viewport -->
            <main class="center-panel">
                <div class="viewport-container">
                    <canvas id="playcanvas-canvas" class="playcanvas-viewport"></canvas>
                    
                    <!-- Overlay UI -->
                    <div class="viewport-overlay">
                        <div class="viewport-controls">
                            <button id="reset-camera" class="overlay-btn" title="Reset Camera">
                                <span class="icon">üè†</span>
                            </button>
                            <button id="orbit-camera" class="overlay-btn" title="Orbit Camera">
                                <span class="icon">üåç</span>
                            </button>
                            <button id="walkthrough-camera" class="overlay-btn" title="Walkthrough Camera">
                                <span class="icon">üö∂</span>
                            </button>
                        </div>
                        
                        <div class="viewport-info">
                            <span id="camera-mode">Orbit</span>
                            <span id="fps-counter">60 FPS</span>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Sidebar - Properties Panel -->
            <aside class="right-sidebar">
                <div class="sidebar-section">
                    <h3>Properties</h3>
                    <div id="property-inspector" class="property-panel">
                        <div class="property-group">
                            <label>Transform</label>
                            <div class="property-row">
                                <span>Position</span>
                                <input type="number" id="pos-x" placeholder="X" step="0.1">
                                <input type="number" id="pos-y" placeholder="Y" step="0.1">
                                <input type="number" id="pos-z" placeholder="Z" step="0.1">
                            </div>
                            <div class="property-row">
                                <span>Rotation</span>
                                <input type="number" id="rot-x" placeholder="X" step="1">
                                <input type="number" id="rot-y" placeholder="Y" step="1">
                                <input type="number" id="rot-z" placeholder="Z" step="1">
                            </div>
                            <div class="property-row">
                                <span>Scale</span>
                                <input type="number" id="scale-x" placeholder="X" step="0.1">
                                <input type="number" id="scale-y" placeholder="Y" step="0.1">
                                <input type="number" id="scale-z" placeholder="Z" step="0.1">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scene Graph Panel -->
                <div class="sidebar-section">
                    <h3>Scene Graph</h3>
                    <div id="scene-hierarchy" class="scene-hierarchy">
                        <div class="hierarchy-item root">
                            <span class="icon">üå≥</span>
                            <span>Scene Root</span>
                        </div>
                    </div>
                </div>

                <!-- Undo/Redo Panel -->
                <div class="sidebar-section">
                    <h3>History</h3>
                    <div class="history-controls">
                        <button id="undo-btn" class="history-btn" title="Undo (Ctrl+Z)">
                            <span class="icon">‚Ü∂</span>
                            <span>Undo</span>
                        </button>
                        <button id="redo-btn" class="history-btn" title="Redo (Ctrl+Y)">
                            <span class="icon">‚Ü∑</span>
                            <span>Redo</span>
                        </button>
                    </div>
                    <div id="history-list" class="history-list">
                        <!-- History items will be populated here -->
                    </div>
                </div>
            </aside>
        </div>

        <!-- Bottom Panel - Timeline -->
        <div class="bottom-panel">
            <div class="timeline-header">
                <h3>Timeline</h3>
                <div class="timeline-controls">
                    <button id="play-timeline" class="timeline-btn" title="Play">
                        <span class="icon">‚ñ∂Ô∏è</span>
                    </button>
                    <button id="pause-timeline" class="timeline-btn" title="Pause">
                        <span class="icon">‚è∏Ô∏è</span>
                    </button>
                    <button id="stop-timeline" class="timeline-btn" title="Stop">
                        <span class="icon">‚èπÔ∏è</span>
                    </button>
                </div>
            </div>
            <div id="timeline" class="timeline">
                <!-- Timeline tracks will be populated here -->
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Modal</h3>
                <button id="close-modal" class="close-btn">√ó</button>
            </div>
            <div id="modal-content" class="modal-content">
                <!-- Modal content will be populated here -->
            </div>
        </div>
    </div>

    <!-- Tooltips -->
    <div id="tooltip" class="tooltip hidden">
        <div class="tooltip-content"></div>
        <div class="tooltip-arrow"></div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="context-menu hidden">
        <!-- Context menu items will be populated here -->
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdn.playcanvas.com/playcanvas-stable.min.js"></script>
    
    <!-- Core Scripts -->
    <script src="js/supabase-integration.js"></script>
    <script src="js/spatial-audio-integration.js"></script>
    <script src="js/ai-features-integration.js"></script>
    <script src="js/mobile-ar-integration.js"></script>
    <script src="js/advanced-camera-integration.js"></script>
    
    <!-- Feature Scripts -->
    <script src="js/spatial-audio.js"></script>
    <script src="js/ai-features.js"></script>
    <script src="js/mobile-ar.js"></script>
    <script src="js/advanced-camera.js"></script>
    <script src="js/post-processing.js"></script>
    <script src="js/particle-systems.js"></script>
    <script src="js/scene-graph.js"></script>
    <script src="js/spatial-ui.js"></script>
    <script src="js/gaming-components.js"></script>
    <script src="js/color-picker.js"></script>
    <script src="js/tooltips.js"></script>
    <script src="js/property-inspector.js"></script>
    <script src="js/undo-redo.js"></script>
    <script src="js/playcanvas-manager.js"></script>
    <script src="js/automotive-features.js"></script>
    <script src="js/editor.js"></script>
</body>
</html>